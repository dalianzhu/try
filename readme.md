<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# try

```go
import "github.com/dalianzhu/try"
```

Package try provides a way to safely execute callback functions and handle panics and errors that may occur.

As a quick start:

```
// Example for callback with value and error
result, err := try.WithError1(func() (int, error) {
	// Your callback logic here
	return 42, nil
})
if err != nil {
	// if panic occurs, err will be ErrCallbackPanic
	if errors.Is(err, try.ErrCallbackPanic) {
		// callback panic: PANIC INFO, file:/FILEPATH/file_xxx.go line: 17
		fmt.Println("Panic:", err)
		return
	}
	fmt.Println("Error:", err)
	return
}
fmt.Println("Result:", result)

// Example for panic handling
resultA := try.Or(func() (int, error) {
	panic("panic")
	return 42, nil
}, -1)
fmt.Println("Result A:", resultA) // Output: Result A: -1
```

## Index

- [Variables](<#variables>)
- [func Or\[A any\]\(callback func\(\) \(A, error\), fallbackA A\) \(ret A\)](<#Or>)
- [func Or2\[A, B any\]\(callback func\(\) \(A, B, error\), fallbackA A, fallbackB B\) \(ret A, ret2 B\)](<#Or2>)
- [func Or3\[A, B, C any\]\(callback func\(\) \(A, B, C, error\), fallbackA A, fallbackB B, fallbackC C\) \(ret A, ret2 B, ret3 C\)](<#Or3>)
- [func WithError\(callback func\(\) error\) \(err error\)](<#WithError>)
- [func WithError1\[A any\]\(callback func\(\) \(A, error\)\) \(ret A, err error\)](<#WithError1>)
- [func WithError2\[A, B any\]\(callback func\(\) \(A, B, error\)\) \(ret A, ret2 B, err error\)](<#WithError2>)
- [func WithError3\[A, B, C any\]\(callback func\(\) \(A, B, C, error\)\) \(ret A, ret2 B, ret3 C, err error\)](<#WithError3>)


## Variables

<a name="ErrCallbackPanic"></a>ErrCallbackPanic is the error type returned when the callback function panics

```go
var ErrCallbackPanic = errors.New("callback panic")
```

<a name="RuntimeCallerSkip"></a>RuntimeCallerSkip when a panic occurs, skip the appropriate number of stack frames. so that file and line numbers print correctly. The default value is 2.

```go
var RuntimeCallerSkip = 2
```

<a name="Or"></a>
## func Or

```go
func Or[A any](callback func() (A, error), fallbackA A) (ret A)
```

Or callback takes 1 return value, if the callback function panics or error is not nil, returns the fallback value, otherwise returns the value of callback.

<details><summary>Example</summary>
<p>



```go
package main

import (
	"fmt"

	"github.com/dalianzhu/try"
)

func main() {
	result := try.Or(func() (int, error) {
		// Your callback logic here
		return 42, nil
	}, -1)

	fmt.Println("Result:", result)
}
```

#### Output

```
Result: 42
```

</p>
</details>

<details><summary>Example (Second)</summary>
<p>



```go
package main

import (
	"fmt"

	"github.com/dalianzhu/try"
)

func main() {
	// Example for panic handling
	resultA := try.Or(func() (int, error) {
		panic("panic")
		return 42, nil
	}, -1)

	fmt.Println("Result A:", resultA)
}
```

#### Output

```
Result A: -1
```

</p>
</details>

<a name="Or2"></a>
## func Or2

```go
func Or2[A, B any](callback func() (A, B, error), fallbackA A, fallbackB B) (ret A, ret2 B)
```

Or2 callback takes 2 return values, if the callback function panics or error is not nil, returns the fallback values, otherwise returns the values of callback

<a name="Or3"></a>
## func Or3

```go
func Or3[A, B, C any](callback func() (A, B, C, error), fallbackA A, fallbackB B, fallbackC C) (ret A, ret2 B, ret3 C)
```

Or3 callback takes 3 return values, if the callback function panics or error is not nil, returns the fallback values, otherwise returns the values of callback

<a name="WithError"></a>
## func WithError

```go
func WithError(callback func() error) (err error)
```

WithError callback returns an error. If the callback panics, the panic is returned as an error of type \`ErrCallbackPanic\`. If the callback returns an error, that error is returned. Otherwise, it returns \`nil\`.

<details><summary>Example</summary>
<p>



```go
package main

import (
	"errors"
	"fmt"

	"github.com/dalianzhu/try"
)

func main() {
	err := try.WithError(func() error {
		// Your callback logic here
		return nil
	})
	if err != nil {
		// if panic occurs, err type will be ErrCallbackPanic
		if errors.Is(err, try.ErrCallbackPanic) {
			// callback panic: PANIC INFO, file:/FILEPATH/file_xxx.go line: 17
			fmt.Println("Panic:", err)
			return
		}
		fmt.Println("Error:", err)
		return
	}
}
```

</p>
</details>

<a name="WithError1"></a>
## func WithError1

```go
func WithError1[A any](callback func() (A, error)) (ret A, err error)
```

WithError1 callback returns a value and an error. If the callback panics, the panic is returned as an error of type \`ErrCallbackPanic\`. If the callback returns an error, that error is returned. Otherwise, it returns the value and \`nil\`.

<details><summary>Example</summary>
<p>



```go
package main

import (
	"errors"
	"fmt"

	"github.com/dalianzhu/try"
)

func main() {
	result, err := try.WithError1(func() (int, error) {
		// Your callback logic here
		return 42, nil
	})
	if err != nil {
		// if panic occurs, err will be ErrCallbackPanic
		if errors.Is(err, try.ErrCallbackPanic) {
			// callback panic: PANIC INFO, file:/FILEPATH/file_xxx.go line: 17
			fmt.Println("Panic:", err)
			return
		}
		fmt.Println("Error:", err)
		return
	}

	fmt.Println("Result:", result)
}
```

#### Output

```
Result: 42
```

</p>
</details>

<a name="WithError2"></a>
## func WithError2

```go
func WithError2[A, B any](callback func() (A, B, error)) (ret A, ret2 B, err error)
```

WithError2 callback takes 2 return values. If the callback panics, the panic is returned as an error of type \`ErrCallbackPanic\`. If the callback returns an error, that error is returned. Otherwise, it returns the values and \`nil\`.

<a name="WithError3"></a>
## func WithError3

```go
func WithError3[A, B, C any](callback func() (A, B, C, error)) (ret A, ret2 B, ret3 C, err error)
```

WithError3 callback takes 3 return values, If the callback panics, the panic is returned as an error of type \`ErrCallbackPanic\`. If the callback returns an error, that error is returned. Otherwise, it returns the values and \`nil\`.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
